var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}e.d(t,{A:()=>z});var o=function(e){var t=e.title,o=e.name,a=e.hover,i=e.onHoverLabel,c=e.labels,u=void 0===c?[]:c,l=e.orientation,m=void 0===l?"row":l;return React.createElement("div",{"data-name":o,className:"logic-puzzle__label-group orientation-".concat(m)},React.createElement("label",{className:"logic-puzzle__label-group__title"},t),Array.from(u).map((function(e,t){var c=function(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==n(o)?o:o+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({key:t},"data-".concat(o),e);return React.createElement("label",r({className:Array.from(a).includes(e)?"key-hover":"",onMouseEnter:function(){return i(e)},onMouseLeave:function(){return i()}},c),e)})))};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function c(e,t,n){var r;return r=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==a(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=["input-status--empty","input-status--explicit-false","input-status--explicit-true"],l=function(e){var t,n,r,o=e.row,a=e.column,l=e.hover,m=e.onClickCell,f=e.onHoverCell,s=e.input;return React.createElement("div",{className:"logic-puzzle-input-grid__cell-group","data-row":null===(t=o.label)||void 0===t?void 0:t.toLowerCase(),"data-column":null===(n=a.label)||void 0===n?void 0:n.toLowerCase()},null===(r=o.values)||void 0===r?void 0:r.map((function(e,t){var n;return React.createElement("div",{key:"row-".concat(t),className:"logic-puzzle-input-grid__cell-group-row"},null===(n=a.values)||void 0===n?void 0:n.map((function(n,r){var p="".concat(o.name,":").concat(e,",").concat(a.name,":").concat(n),y=c(c(c({},"data-".concat(o.name),e),"data-".concat(a.name),n),"onClick",(function(){return m(p)})),v=o.values[t],b=a.values[r],d=["logic-puzzle-input-grid__cell",u[s[p]],Array.from(l).includes(e)||Array.from(l).includes(n)?"key-hover":""].filter((function(e){return e}));return Object.keys(s).filter((function(t){if(t===p)return!1;var r=new RegExp("^".concat(o.name,":").concat(e,",").concat(a.name,":.+$")),i=new RegExp("^".concat(o.name,":.+,").concat(a.name,":").concat(n,"$"));return(t.match(r)||t.match(i))&&2===s[t]})).length>0&&d.push("implicit-false"),React.createElement("div",i({key:"".concat(t,",").concat(r),onMouseEnter:function(){return f([v,b])},onMouseLeave:function(){return f([])},className:d.join(" ")},y))})))})))};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){var r;return r=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==m(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t=e.split(",").map((function(e){return e.split(":")}));return{rowName:t[0][0],rowValue:t[0][1],columnName:t[1][0],columnValue:t[1][1]}},v=function(e,t){var n=t[0].values.length,r=y(e),o=r.rowName,a=r.rowValue,i=r.columnName,c=r.columnValue,u=function(e){var t=e.rowName,n=e.columnName,r=e.options,o=r.findIndex((function(e){return e.name===t})),a=r.findIndex((function(e){return e.name===n}))-1;return o>0?(r.length-1)*(r.length-o)+a:a}({rowName:o,columnName:i,options:t}),l=t.find((function(e){return e.name===o})).values.indexOf(a);return t.find((function(e){return e.name===i})).values.indexOf(c)+n*l+n*n*u},b=function(e){var t=e.input,n=e.options,r=function(e){if(!e||0===e.length)return[];var t=e.map((function(e){return e.name})).reduce((function(e,t){return Object.assign({},e,p({},"".concat(t),null))}),{});return e[0].values.map((function(n){return Object.assign({},t,p({},"".concat(e[0].name),n))}))}(n),o=function(e,t){return e.sort((function(e,n){return v(e,t)-v(n,t)})).map((function(e){return y(e)}))}(Object.keys(t).filter((function(e){return 2===t[e]})),n);return r.map((function(e){return o.forEach((function(t){var n=t.rowName,r=t.rowValue,o=t.columnName,a=t.columnValue;e[n]===r&&(e=s(s({},e),{},p({},"".concat(o),a)))})),e}))},d=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=3735928559^n,o=1103547991^n,a=0;a<e.length;a++)t=e.charCodeAt(a),r=Math.imul(r^t,2654435761),o=Math.imul(o^t,1597334677);return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),4294967296*(2097151&(o^=Math.imul(r^r>>>13,3266489909)))+(r>>>0)},g=function(e){var t=e.prompt,n=e.input,r=e.options,o=b({input:n,options:r});return d(JSON.stringify(o)),React.createElement("div",{className:"logic-puzzle-monitor"},React.createElement("label",{className:"prompt"},t),React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,r.map((function(e,t){return React.createElement("th",{key:t,"data-name":e.name},e.label)})))),React.createElement("tbody",null,o.map((function(e,t){return React.createElement("tr",{key:t},Object.keys(e).map((function(t,n){return React.createElement("td",{key:n,"data-name":t},e[t])})))})))))},h=function(e){var t=e.input,n=e.options,r=e.solution;return React.createElement("button",{className:"check-answer-button",onClick:function(){!function(e){var t,n,r,o=e.input,a=e.options,i=e.solution;return n=b({input:(t={input:o,options:a}).input,options:t.options}),r=JSON.stringify(n),d(r)===parseInt(i)}({input:t,options:n,solution:r})?document.dispatchEvent(new CustomEvent("puzzle_wrong")):document.dispatchEvent(new CustomEvent("puzzle_solved"))}},"Check Answer")};function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){var r;return r=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==O(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const z=function(e){for(var t=e.title,n=e.description,r=e.instructions,a=e.prompt,i=e.solution,c=e.clues,u=e.options,m=e.useState,f=u.map((function(e){return e.name})),s=[],p=[],y=S(m([]),2),v=y[0],b=y[1],d=S(m([]),2),O=d[0],w=d[1],_=1;_<f.length;_++)s.push(f[_]);for(var z=0;z<f.length-1;z++)0===z?p.push(f[z]):p.push(f[f.length-z]);return React.createElement("div",{className:"logic-puzzle"},React.createElement("div",{className:"logic-puzzle__header"},React.createElement("div",{className:"logic-puzzle__title",dangerouslySetInnerHTML:{__html:t}}),React.createElement("div",{className:"logic-puzzle__description",dangerouslySetInnerHTML:{__html:n}})),React.createElement("div",{className:"logic-puzzle__instructions",dangerouslySetInnerHTML:{__html:r}}),React.createElement("hr",null),React.createElement("ol",{className:"logic-puzzle__clues"},Array.from(c).map((function(e,t){return React.createElement("li",{key:t,className:"logic-puzzle__clue",dangerouslySetInnerHTML:{__html:e}})}))),React.createElement("div",{className:"logic-puzzle-input-grid"},React.createElement("div",{className:"logic-puzzle-input-grid__corner"}),React.createElement("div",{className:"logic-puzzle-input-grid__columns"},s.map((function(e,t){return React.createElement(o,{key:t,name:e,hover:O,title:u.find((function(t){return t.name===e})).label,labels:u.find((function(t){return t.name===e})).values,onHoverLabel:function(e){return w([e])},orientation:"column"})}))),React.createElement("div",{className:"logic-puzzle-input-grid__rows"},p.map((function(e,t){return React.createElement(o,{key:t,name:e,hover:O,title:u.find((function(t){return t.name===e})).label,labels:u.find((function(t){return t.name===e})).values,onHoverLabel:function(e){return w([e])},orientation:"row"})}))),React.createElement("div",{className:"logic-puzzle-input-grid__cells"}," ",p.map((function(e,t){return React.createElement("div",{key:t,className:"logic-puzzle-input-grid__cells-row"},s.map((function(n,r){if(!(t+r>=u.length-1)){var o=u.find((function(t){return t.name===e})),a=u.find((function(e){return e.name===n}));return React.createElement(l,{key:"group-".concat(t,"-").concat(r),row:o,column:a,hover:O,input:v,onClickCell:function(e){Object.keys(v).includes(e)?b(j(j({},v),{},E({},e,(v[e]+1)%3))):b(j(j({},v),{},E({},e,1)))},onHoverCell:function(e){return w(e)}})}})))}))," ")),React.createElement("hr",null),React.createElement(g,{prompt:a,input:v,options:u}),React.createElement(h,{input:v,options:u,solution:i}))};var R=t.A;export{R as default};